{% assign col_count_class = '-col-count--' | append: section.settings.items_per_view %}

{%- render 'section-bg-init',
  section_id: section.id,
  alt_bg: section.settings.use_section_bg_color
-%}

{% schema %}
  {
    "name": "Testimonials",
    "class": "index-section",
    "max_blocks": 10,
    "settings": [
      {
        "type": "text",
        "id": "title",
        "label": "Heading",
        "default": "Testimonials"
      },
      {
        "type":  "text",
        "id":    "subtitle",
        "label": "Description"
      },
	    {
         "type":"checkbox",
         "id":"use_section_bg_color",
         "label":"Use alternate background"
     },
     {
         "type": "range",
         "id": "items_per_view",
         "label": "Visible testimonial count",
         "min":       2,
         "max":        5,
         "step":       1,
         "default": 3
     },
     {
       "type":      "range",
       "id":        "slider_autoplay",
       "min":        0,
       "max":        7,
       "step":       1,
       "label":      "Rotate testimonials every",
       "default":   0,
       "unit": "sec",
       "info": "Testimonials will not auto-rotate at 0"
     },
     {
         "type": "select",
         "id": "appearance",
         "options": [
            { "value": "white_bg", "label": "Shadow box"},
            { "value": "border", "label": "Border"},
            { "value": "alt_bg", "label": "Alternate background"},
            { "value": "primary_bg", "label": "Primary background"},
            { "value": "dark_bg", "label": "Dark background"}
         ],
         "default": "white_bg",
         "label": "Style"
      },
      {
         "type":"checkbox",
         "id":"use_author_images",
         "label":"Enable author images"
     }
    ],
    "blocks": [
      {
        "type": "quote",
        "name": "Testimonial",
        "settings": [
           {
            "type": "richtext",
            "id": "quote",
            "label": "Text",
            "default": "<p>Add customer reviews and testimonials to showcase your storeâ€™s happy customers.</p>"
          },
          {
            "type": "text",
            "id": "author",
            "label": "Author",
            "default": "Author's name"
          },
          {
             "type":"image_picker",
             "id":"image",
             "label":"Image",
             "info": "100 x 100px recommended"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Testimonials",
        "category": "Text",
        "blocks": [
          {
            "type": "quote"
          },
          {
            "type": "quote"
          },
          {
            "type": "quote"
          }
        ]
      }
    ]
  }
{% endschema %}
